---
name: Openshift example
description: Provision applications in Openshift based on supported use cases

credentials:

  - name: openshift
    auth_url: https://cci-ose-master-vip.rhev-ci-vms.eng.rdu2.redhat.com:8443
    project: my_project
    username: username
    token: token

provision:

  - name: Application by image
    provider: openshift
    credential: openshift
    oc_name: application1
    role: application1
    oc_image: rywillia/example  # Define registry and image
    oc_env_vars:
      var1: var1
      var2: var2
    oc_labels:  # Need to see if we can pass multiple labels by oc client
      - label1: label1
      - label2: label2

  - name: Application by git
    provider: openshift
    provisioner: openshift
    credential: openshift
    oc_name: application2
    role: application2
    oc_git: https://github.com/openshift/django-ex  # Define url to git repository
    oc_env_vars:
      var1: var1
      var2: var2
    oc_labels:  # Need to see if we can pass multiple labels by oc client
      - label1: label1
      - label2: label2

  - name: Application by pre-defined template
    provider: openshift
    credential: openshift
    oc_name: application3
    role: application3
    oc_template_name: jenkins-ephemeral # Define existing template name
    oc_env_vars:
      var1: var1
      var2: var2
    oc_labels:  # Need to see if we can pass multiple labels by oc client
      - label1: label1
      - label2: label2

  - name: Application by custom template
    provider: openshift
    provisioner: openshift
    credential: openshift
    oc_name: application4
    role: application4
    oc_template_name: my_template # We append file ext, file should be in dir where scenario exists
    oc_env_vars:
      var1: var1
      var2: var2
    oc_labels:
      - label key: 1
