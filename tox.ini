[tox]
envlist = py{27,36}

[testenv:py27]
passenv = CARBON_SETTINGS CARBON_ASSETS_PATH
commands =
    {toxinidir}/scripts/install-test-requirements
    {toxinidir}/scripts/run-functional-tests
    {toxinidir}/scripts/check-code-standards

[testenv:py36]
passenv = CARBON_SETTINGS CARBON_ASSETS_PATH
commands =
    {toxinidir}/scripts/install-test-requirements
    {toxinidir}/scripts/run-functional-tests
    {toxinidir}/scripts/check-code-standards

[testenv:docs]
deps =
    -r{toxinidir}/test-requirements.txt
commands = python setup.py build_sphinx

[flake8]
# These are ignored intentionally in carbon project;
# please don't submit patches that solely correct them or enable them.
# E112 - flexibility here to increase readability (DO NOT ABUSE)
# E126 - flexibility here to increase readability (DO NOT ABUSE)
# E127 - flexibility here to increase readability (DO NOT ABUSE)
# E241 - flexibility here to increase readability (DO NOT ABUSE)
# E242 - flexibility here to increase readability (DO NOT ABUSE)
# F401 - we use a lot of imports within __init__ to make user's life easier
ignore = E112,E126,E127,E241,E242,F401
max-complexity = -1
show-source = True
max-line-length = 120
exclude = src/carbon/_compat.py
